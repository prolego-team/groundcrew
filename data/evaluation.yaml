- name: Codebase QA
  tests:
    - name: find func A
      tool: CodebaseQATool
      params:
        user_prompt: Is there functionality to extract text from a pdf?
        include_code: false
      eval_func:
        typ: match_word_any
        words: ['extract_text_from_pdf']
        strip_quotes: true
    - name: find func B
      tool: CodebaseQATool
      params:
        user_prompt: How do I first find the paths for PDFs?
        include_code: true
      eval_func:
        typ: match_word_any
        words: ['find_pdfs_in_directory']
        strip_quotes: true

    - name: lint A
      tool: LintFileTool
      params:
        user_prompt: What are some linting issues with agents utils?
        filepath_inexact: agents utils
      eval_func:
        typ: contains_all
        checks: ['unused import', 'dataclasses.asdict', 'bare', 'except']
    - name: lint B
      tool: LintFileTool
      params:
        user_prompt: What are some code style issues with tests_tree.py?
        filepath_inexact: tests_tree.py
      eval_func:
        typ: contains_all
        checks: ['is None', 'lambda']
    - name: lint C
      tool: LintFileTool
      params:
        user_prompt: What are some import issues in tools.py
        filepath_inexact: tools.py
      eval_func:
        typ: contains_all
        checks: ['unused', 'json', 'sqlite3', 'typing.Any', 'typing.List', 'pandasql']

    - name: docstring A
      tool: SingleDocstringTool
      params:
        user_prompt: Generate a docstring for the method check_prompt
        filename: none
        function_name: check_prompt
      eval_func:
        typ: always_pass


#- name: Codebase QA Fuzzy
#  tests:
#    - name: find func A
#      tool: CodebaseQATool
#      params:
#        user_prompt: Is there functionality to extract text from a pdf?
#        include_code: false
#      eval_func:
#        typ: eval_with_llm
#        instructions: The result should reference the function "extract_text_from_pdf"
#
#    - name: find func B
#      tool: CodebaseQATool
#      params:
#        user_prompt: How do I first find the paths for PDFs?
#        include_code: true
#      eval_func:
#        typ: eval_with_llm
#        instructions: The result should reference the function "find_pdfs_in_directory"
